{% extends 'superuser/base.html' %}

{% block content %}

<br/>
<div style="width:20%">
  <select class="form-select year_range mt-0" id="year_range" name="period">

    <option value="" selected="selected">Year</option> 
  
    {% if year_range == "2020" %}
      <option value="2020" selected="selected">2020</option>
    {% else %}  
    <option value="2020">2020</option>
    {% endif %}
  
  
    {% if year_range == "2021" %}
      <option value="2021" selected="selected">2021</option>
    {% else %}  
    <option value="2021">2021</option>
    {% endif %}
  
    {% if year_range == "2022" %}
      <option value="2022" selected="selected">2022</option>
    {% else %}  
    <option value="2022">2022</option>
    {% endif %}
  
    {% if year_range == "2023" %}
      <option value="2023" selected="selected">2023</option>
    {% else %}  
    <option value="2023">2023</option>
    {% endif %}
  
    {% if year_range == "2024" %}
      <option value="2024" selected="selected">2024</option>
    {% else %}  
    <option value="2024">2024</option>
    {% endif %}
  
    {% if year_range == "2025" %}
      <option value="2025" selected="selected">2025</option>
    {% else %}  
    <option value="2025">2025</option>
    {% endif %}
  
    {% if year_range == "2026" %}
      <option value="2026" selected="selected">2026</option>
    {% else %}  
    <option value="2026">2026</option>
    {% endif %}
  
  </select>
</div>

<div class="row">

</div>
<br>
<br>

  {% csrf_token %}
    

<div id="root">
    <div class="container">
      <div class="row align-items-stretch">
        <div class="c-dashboardInfo col-lg-3 col-md-6">
          <div class="wrap d-flex flex-column">

            <div class="">
            <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Total Cardiologists</h4>
            </div>
            <div>
            <span class="hind-font caption-12 c-dashboardInfo__count text-center" style="color: blue;">{{ total_cardiologists }}</span>
            </div>

          </div>
        </div>



        <div class="c-dashboardInfo col-lg-3 col-md-6">
          <div class="wrap d-flex flex-column">
          <div>
            <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Male/Female</h4>
          </div>
          <div>
            <span class="hind-font caption-12 c-dashboardInfo__count" style="color: #ff0000;">{{ total_cardiologists_male }}/{{ total_cardiologists_female }}</span>
          </div>
          </div>
        </div>

        <div class="c-dashboardInfo col-lg-3 col-md-6">
            <div class="wrap d-flex flex-column">
              <div>
                <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Total Hospitals</h4>
              </div>
              <div>
              <span class="hind-font caption-12 c-dashboardInfo__count" style="color: #006c40;">{{ total_hospitals }}</span>
              </div>
            </div>
          </div>

        <div class="c-dashboardInfo col-lg-3 col-md-6">
          <div class="wrap d-flex flex-column">
            <div>
            <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Total Amount</h4>
            </div>
            <div>
            <span class="hind-font caption-12 c-dashboardInfo__count" style="color: blue;">GHS {{ total_amount }}0</span>
          </div>
        </div>
      </div>

        
      </div>
    </div>
</div>


<div id="root">
  <div class="container">
    <div class="row align-items-stretch">
      <div class="c-dashboardInfo col-lg-3 col-md-6">
        <div class="wrap d-flex flex-column">

          <div class="">
          <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Total Slots Purchased</h4>
          </div>
          <div>
          <span class="hind-font caption-12 c-dashboardInfo__count text-center" style="color: blue;">{{ total_slots }}</span>
          </div>

        </div>
      </div>



      <div class="c-dashboardInfo col-lg-3 col-md-6">
        <div class="wrap d-flex flex-column">
        <div>
          <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Total Reports</h4>
        </div>
        <div>
          <span class="hind-font caption-12 c-dashboardInfo__count" style="color: #ff0000;">{{ total_reports }}</span>
        </div>
        </div>
      </div>

      <div class="c-dashboardInfo col-lg-3 col-md-6">
          <div class="wrap d-flex flex-column">
            <div>
              <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Total Completed</h4>
            </div>
            <div>
            <span class="hind-font caption-12 c-dashboardInfo__count" style="color: #006c40;">{{ total_completed }}</span>
            </div>
          </div>
        </div>

      <div class="c-dashboardInfo col-lg-3 col-md-6">
        <div class="wrap d-flex flex-column">
          <div>
          <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Total Pending</h4>
          </div>
          <div>
          <span class="hind-font caption-12 c-dashboardInfo__count" style="color: blue;">{{ total_pending }}</span>
        </div>
      </div>
    </div>

      
    </div>
  </div>
</div>






  {% comment %} <div id="root">
    <div class="container pt-5">
      <div class="row align-items-stretch">


        <div class="c-dashboardInfo col-lg-3 col-md-6">
          <div class="wrap d-flex flex-column">
            <div>
              <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Total Collections</h4>
            </div>
            <div>
            <span class="hind-font caption-12 c-dashboardInfo__count" style="color: #006c40;">GHS 0</span>
            </div>
          </div>
        </div>


        <div class="c-dashboardInfo col-lg-3 col-md-6">
          <div class="wrap d-flex flex-column">
            <div>
            <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Percentage recieved</h4>
            </div>
            <div>
            <span class="hind-font caption-12 c-dashboardInfo__count" style="color: blue;">2&#37;</span>
          </div>
        </div>
      </div>


      <div class="c-dashboardInfo col-lg-3 col-md-6">
        <div class="wrap d-flex flex-column">
        <div>
          <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Total Arrears</h4>
        </div>
        <div>
          <span class="hind-font caption-12 c-dashboardInfo__count" style="color: #ff0000;">GHS 0</span>
        </div>
        </div>
      </div>

        <div class="c-dashboardInfo col-lg-3 col-md-6">
          <div class="wrap d-flex flex-column">

            <div class="">

            <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Total Expenses</h4>
            </div>
            <div>
            <span class="hind-font caption-12 c-dashboardInfo__count text-center" style="color: blue;">GHS 0</span>
            </div>

          </div>
        </div>

        
      </div>
    </div>
  </div> {% endcomment %}





{% comment %} <div id="root" style="margin-top: -2%;">
    <div class="container pt-5">
      <div class="row align-items-stretch">


        <div class="c-dashboardInfo col-lg-3 col-md-6">
          <div class="wrap d-flex flex-column">
            <a href="http://127.0.0.1:8000/client/view-payment-details/#view_assigned" class="a_tag">
            <div>
            <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Full Payment Users</h4>
            </div>
            <div>
            <span class="hind-font caption-12 c-dashboardInfo__count" style="color: #006c40;">{{ full_payments }}</span>
            </div>
          </a>
          </div>
        </div>

        <div class="c-dashboardInfo col-lg-3 col-md-6">
          <div class="wrap d-flex flex-column">

            <a href="http://127.0.0.1:8000/client/view-payment-details/#view_assigned" class="a_tag">

            <div>
            <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Part Payment Users</h4>
            </div>
            <div>
            <span class="hind-font caption-12 c-dashboardInfo__count" style="color: #006c40;">{{ part_payments }}</span>
            </div>
          </a>
          </div>
        </div>


      


        <div class="c-dashboardInfo col-lg-3 col-md-6">
          <div class="wrap d-flex flex-column">
            <a href="http://127.0.0.1:8000/client/view-payments/#view_payments" class="a_tag">

            <div>

            <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Active Users</h4>
            </div>
            <div>
            <span class="hind-font caption-12 c-dashboardInfo__count" style="color: #006c40;">{{ active_users }}</span>
            </div>
          </a>

          </div>
        </div>



        <div class="c-dashboardInfo col-lg-3 col-md-6">
          <div class="wrap d-flex flex-column">
            <a href="http://127.0.0.1:8000/client/view-payments/#view_payments" class="a_tag">
            <div>
            <h4 class="heading heading5 hind-font medium-font-weight c-dashboardInfo__title">Inactive Users</h4>
            </div>
            <div>
            <span class="hind-font caption-12 c-dashboardInfo__count" style="color: #ff0000;">{{ expired_users }}</span>
            </div>
            </a>

          </div>
        </div>
      
    </div>
  </div>
</div> {% endcomment %}





{% comment %} 
<div id="root" style="margin-top: -2%;">
  <div class="container pt-5">
   
</div>
</div> {% endcomment %}


<br/>
<br/>
<h2 class="text-center text-danger">{{ year }} Report</h2>
<br/>
  <div class="chart">
    <div id="container">
      <canvas id="myChart"></canvas>
    </div>
    <div id="container2">
      <canvas id="barChart"></canvas>
    </div>
  </div>
  <br/>
  <br/>
  <br/>


  <script>


  const ctx = document.getElementById('myChart').getContext('2d');
  const ctx2 = document.getElementById('barChart').getContext('2d');

  const myChart = new Chart(ctx, {
      type: 'doughnut',
      data: {
          labels:["Total Cardiologists", "Total Male", "Total Female", "Total Hospitals", "Total Reports", "Total Completed", "Total Pending", "Total Amount", "Total Slots"],
          datasets: [{
              label: 'System Statistics',
              data: {{ data1|safe }},
              // data: [1,2,3,4,5,6,7,8,9],
              backgroundColor: [
                  'rgba(255, 99, 132, 1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(55, 206, 86, 1)',
                  'rgba(75, 192, 190, 1)',
                  'rgba(153, 12, 255, 1)',
                  'rgba(255, 159, 64, 1)',
                  'rgba(54, 16, 235, 1)',
                  'rgba(25, 99, 132, 1)',
                  'rgba(255, 159, 50, 1)',
                  'rgba(250, 99, 132, 1)',
                  'rgba(54, 162, 25, 1)',
                  'rgba(255, 26, 86, 1)',
                  'rgba(75, 192, 190, 1)',
                  'rgba(255, 159, 64, 1)',
                  'rgba(255, 99, 132, 1)',
                  'rgba(75, 192, 192, 1)',

              ],
              borderColor: [
                  'rgba(255, 99, 132, 0)',
                  'rgba(54, 162, 235, 0)',
                  'rgba(255, 206, 86, 0)',
                  'rgba(75, 192, 192, 0)',
                  'rgba(153, 102, 255, 0)',
                  'rgba(255, 159, 64, 0)',
                  'rgba(54, 162, 235, 0)',
                  'rgba(255, 99, 132, 0)',
                  'rgba(153, 102, 255, 0)',

              ],
              hoverOffset: 5,
              borderWidth: 10
          }]
      },
      options: {
        responsive: true,

          scales: {
              y: {
                  beginAtZero: true
              }
          }
      }
  });


  {% comment %} const labels = Utils.months({count: 12}); {% endcomment %}
  const barChart = new Chart(ctx2, {
      type: 'bar',
      data: {
          labels:["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
          datasets: [{
              label: 'Amount Made Per Month',
              data: {{ data2|safe }},
              backgroundColor: [
                  'rgba(255, 99, 132, 1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(255, 206, 86, 1)',
                  'rgba(75, 192, 192, 1)',
                  'rgba(153, 102, 255, 1)',
                  'rgba(255, 159, 64, 1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(255, 99, 132, 1)',
              ],
              borderColor: [
                  'rgba(255, 99, 132, 1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(255, 206, 86, 1)',
                  'rgba(75, 192, 192, 1)',
                  'rgba(153, 102, 255, 1)',
                  'rgba(255, 159, 64, 1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(255, 99, 132, 1)',
              ],
              borderWidth: 1
          }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,

          scales: {
              y: {
                 
                  min: 0,
                  max: 10000,
                  ticks: {
                    // forces step size to be 50 units
                    stepSize: 500
                  }
              }
          }
      }
  });
</script>


{% endblock %}